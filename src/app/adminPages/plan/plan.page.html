<ion-header>
  <ion-toolbar color="brc" class="ion-no-border">
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>Plan de entrenamiento</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content color="brc">
    <ion-grid fixed>
        <ion-row>
          <ion-col size="12" class="ion-text-center">
            <ion-label class="titulo">Detallle Plan</ion-label>
          </ion-col>
        </ion-row>
      </ion-grid>
  <ion-card color="brc-details" *ngIf="plan">
    <ion-card-content color="brc-details" class="ion-no-padding">
        <div class="nuevo-ejercicio-boton">
            <!-- <ion-button (click)="agregarNuevoEntreno()" expand="block" fill="outline" shape="round" color="success"> -->
              
              <ion-icon *ngIf="!actualizando" name="save-outline"  (click)="actualizarDatosPlan()"></ion-icon>  
              <ion-spinner *ngIf="actualizando" name="crescent"></ion-spinner>      
            <!-- </ion-button> -->
          </div>
      <ion-list color="brc-details" class="ion-no-padding">
        <ion-grid fixed>
          <ion-row>
            <ion-col size="12">
              <ion-item color="brc-details" lines="none">
                <ion-icon slot="start" name="fitness-outline" class="brc-buttons"></ion-icon>
                <ion-label>
                  <h3>
                    {{plan.tipo}}
                  </h3>
                  <p>{{plan.nro}}</p>
                </ion-label>
              </ion-item>

            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col size="6">
              <ion-item color="brc-details" lines="none">
                <ion-icon slot="start" name="calendar-outline" class="brc-buttons"></ion-icon>
                <p>{{plan.fecha_inicio._seconds*1000 | date}}</p>
              </ion-item>
            </ion-col>
            <ion-col size="6">
              <ion-item color="brc-details" lines="none">
                  <ion-icon slot="start" name="calendar-outline" class="brc-buttons"></ion-icon>

                <p>
                  {{plan.fecha_vto._seconds*1000 | date}}
                </p>
              </ion-item>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col size="6">
              <ion-item color="brc-details" lines="none">
                <ion-icon slot="start" name="cash-outline" class="brc-buttons"></ion-icon>
                <ion-label> ${{plan.valor}}</ion-label>
              </ion-item>
            </ion-col>
            <ion-col size="6">
              <ion-item color="brc-details" lines="none">
                <ion-label>Pagado</ion-label>
                <ion-checkbox color="success" [(ngModel)]="plan.pagado"></ion-checkbox>
              </ion-item>

            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col size="12" size-sm="6">
              <ion-item color="brc-details">
                <ion-label position="floating">Objetivos Generales</ion-label>
                <ion-textarea [(ngModel)]="plan.objetivos_generales"></ion-textarea>
              </ion-item>

            </ion-col>
            <ion-col size="12" size-sm="6">
              <ion-item color="brc-details">
                <ion-label position="floating">Objetivos Especificos</ion-label>
                <ion-textarea [(ngModel)]="plan.objetivos_especificos"></ion-textarea>
              </ion-item>

            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-list>
    </ion-card-content>

  </ion-card>
  <ion-card color="brc-details" *ngIf="!plan">
    <ion-card-content color="brc-details" class="ion-no-padding">

      <ion-list color="brc-details" class="ion-no-padding">
        <ion-grid fixed>
          <ion-row>
            <ion-col size="7">
              <ion-item color="brc-details" lines="none">
                <ion-icon slot="start" name="fitness-outline" class="brc-buttons"></ion-icon>
                <ion-label>
                  <h3>
                    <ion-skeleton-text animated style="width: 100%"></ion-skeleton-text>
                  </h3>
                  <p>
                    <ion-skeleton-text animated style="width: 50%"></ion-skeleton-text>
                  </p>
                </ion-label>
              </ion-item>

            </ion-col>
            <ion-col size="5">
              <ion-item color="brc-details" lines="none">
                <ion-label>

                </ion-label>

              </ion-item>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col size="6">
              <ion-item color="brc-details" lines="none">
                <ion-icon slot="start" name="calendar-outline" class="brc-buttons"></ion-icon>
                <ion-label>
                  <ion-skeleton-text animated style="width: 100%"></ion-skeleton-text>
                </ion-label>
              </ion-item>
            </ion-col>
            <ion-col size="6">
              <ion-item color="brc-details" lines="none">
                <ion-label>
                  <ion-skeleton-text animated style="width: 100%"></ion-skeleton-text>
                </ion-label>
              </ion-item>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col size="6">
              <ion-item color="brc-details" lines="none">
                <ion-icon slot="start" name="cash-outline" class="brc-buttons"></ion-icon>
                <ion-label>
                  <ion-skeleton-text animated style="width: 50%"></ion-skeleton-text>
                </ion-label>
              </ion-item>
            </ion-col>
            <ion-col size="6">
              <ion-item color="brc-details" lines="none">
                <ion-label>
                  <ion-skeleton-text animated style="width: 50%"></ion-skeleton-text>
                </ion-label>
              </ion-item>

            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col size="12">
              <ion-item color="brc-details">
                <ion-label>
                  <ion-skeleton-text animated style="width: 100%"></ion-skeleton-text>
                </ion-label>
                <ion-label>
                  <ion-skeleton-text animated style="width: 100%"></ion-skeleton-text>
                </ion-label>

              </ion-item>

            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col size="12">
              <ion-item color="brc-details">
                <ion-label>
                  <ion-skeleton-text animated style="width: 100%"></ion-skeleton-text>
                </ion-label>
                <ion-label>
                  <ion-skeleton-text animated style="width: 100%"></ion-skeleton-text>
                </ion-label>

              </ion-item>

            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-list>
    </ion-card-content>

  </ion-card>
  <ion-grid fixed>
      <ion-row>
        <ion-col size="12" class="ion-text-center">
          <ion-label class="titulo">Semanas</ion-label>
        </ion-col>
      </ion-row>
    </ion-grid>
 <ion-slides mode="ios" pager="ios" *ngIf="plan" [options]="slidesOpt">
   <ion-slide *ngFor="let microciclo of plan.microciclos">
    <app-microciclo [microciclo]="microciclo" [clienteId]="plan.cliente"></app-microciclo>
   </ion-slide>
 </ion-slides>
 <ion-slides mode="ios" pager="ios" *ngIf="!plan" [options]='slidesOpt'>
    <ion-slide *ngFor="let microciclo of [1,2,3,4]" >
     <ion-card color="brc-details" style="width:250px; height:150px;">
       <ion-card-title><ion-skeleton-text animated style="width: 100%"></ion-skeleton-text></ion-card-title>
       <ion-card-content color="brc-details">
         <ion-label><ion-skeleton-text animated style="width: 100%"></ion-skeleton-text></ion-label>
         <ion-label><ion-skeleton-text animated style="width: 100%"></ion-skeleton-text></ion-label>
         <ion-label><ion-skeleton-text animated style="width: 100%"></ion-skeleton-text></ion-label>
       </ion-card-content>
     </ion-card>
    </ion-slide>
  </ion-slides>
</ion-content>